---
import { getCollection } from "astro:content";

export async function getStaticPaths() {
  const posts = await getCollection("blog");
  return posts.map(post => ({
    params: { slug: post.slug },
    props: { post }
  }));
}

const { post } = Astro.props;
---

<article class="post">
  <img
    src={post.data.heroImage}
    alt={post.data.title}
    class="hero"
  />

  <div class="content">
    <h1>{post.data.title}</h1>
    <p class="meta">
      {new Date(post.data.pubDate).toDateString()}
    </p>

    <p class="description">{post.data.description}</p>

    <div class="body">
      <post.Content />
    </div>
  </div>
</article>

<style>
.post {
  max-width: 760px;
  margin: 3rem auto;
  padding: 0 1.25rem;
}

.hero {
  width: 100%;
  border-radius: 14px;
  margin-bottom: 2rem;
}

.content h1 {
  font-size: 2.2rem;
  line-height: 1.3;
  margin-bottom: 0.5rem;
}

.meta {
  color: #666;
  font-size: 0.9rem;
  margin-bottom: 1.5rem;
}

.description {
  font-size: 1.15rem;
  color: #333;
  margin-bottom: 2rem;
}

.body {
  font-size: 1.05rem;
  line-height: 1.75;
}

.body h2 {
  margin-top: 2.5rem;
  font-size: 1.5rem;
}

.body p {
  margin: 1rem 0;
}
</style>
